# IP 地址、子网掩码、网络数、主机数、广播地址及其计算方法

## 1.IP 地址基本概念

<span style="background:#d4b106">IP地址</span>

IP地址是<font color="#ff0000">主机的唯一标识</font>，<font color="#ff0000">保证主机间正常通信</font>。 是一种<font color="#ff0000">网络编码</font>，用来确定网络中的节点。

IP地址是<font color="#ff0000">由32位二进制组成</font>。通常被<font color="#ff0000">分割为4个“8位二进制数”</font>（也就是<font color="#ff0000">4个字节</font>）。<font color="#ff0000">分成4组，每组8位</font>。子网掩码也是。例如：11000000.10000000.00000001.00000010 平时为了方便记忆，使用<font color="#ff0000">点分十进制</font>格式。前面的二进制IP表示成十进制是：192.128.1.2。

二进制

8位二进制最小值 00000000 = 0 最大值 11111111=255

  

分类

IP地址分以下五类：

A 类 ： 从1.0.0.0 到126.255.255.255 ，适用于大型网络（1~126）

B 类 ： 从128.0.0.0到191.255.255.255 ，适用于中型网络（128~191）

C 类 ： 从192.0.0.0到223.255.255.255 ，适用于小型网络（192~223）

D 类 ： 从224.0.0.0到239.255.255.255，用于组播（224~239）

E 类 ： 从240.192.0.0.0到255.255.255.255，用于科研保留（240~255）

  

A,B,C为常用类别。<font color="#ff0000">其中127.x.x.x段地址空间是被保留的回环地址</font>

  

网络部分（网络地址）和主机部分（主机地址）

IP地址由2部分组成：网络部分+主机部分

<font color="#ff0000">IP地址=网络地址+主机地址</font>

![](https://pic3.zhimg.com/80/v2-08a5e168f808b5a929b28f281f2e5462_720w.webp)

![](https://pic2.zhimg.com/80/v2-e8dea8847dd0cb54361063ea8efe4f71_720w.webp)

  

  

## 2.子网掩码

<font color="#ff0000">子网掩码又叫网络掩码、地址掩码、子网络遮罩</font>。它是一种用来<font color="#ff0000">指明一个IP地址的哪些位 标识的是主机所在的子网，以及哪些位标识的是主机的位掩码</font>。

子网掩码也是一个<font color="#ff0000">32位</font>地址，只有一个作用：就是<font color="#ff0000">将某个IP地址划分成网络地址和主机地址两部分。</font>

  

①<font color="#ff0000">通过子网掩码，就可以判断两个IP在不在一个局域网内部</font>。

②子网掩码可以看出<font color="#ff0000">有多少位是网络号，有多少位是主机号</font>

③其对应的IP地址中<font color="#ff0000">网络地址的所有位置都为1</font>，对应于<font color="#ff0000">主机地址的所有位置都为0</font>。

  

每一类IP地址都有默认的子网掩码

对于A类地址来说，默认的子网掩码是255.0.0.0；

对于B类地址来说，默认的子网掩码是255.255.0.0；

对于C类地址来说，默认的子网掩码是255.255.255.0。

  

## 3.广播地址

广播地址(Broadcast Address)是专门用于同时向网络中所有工作站进行发送的一个地址。

  

在使用TCP/IP 协议的网络中，主机标识段<font color="#ff0000">host ID 为全1 </font>的IP 地址为广播地址，广播的分组传送给host ID段所涉及的所有计算机。例如，对于10.1.1.0 （255.255.255.0 ）网段，其广播地址为10.1.1.255 （255 即为2 进制的11111111 ），当发出一个目的地址为10.1.1.255 的分组（封包）时，它将被分发给该网段上的所有计算机。

  

## 4.子网划分

子网划分定义：Internet组织机构定义了五种IP地址，有A、B、C三类地址。<font color="#ff0000">A类网络有126个</font>，每个A类网络可能有<font color="#ff0000">16777214台主机</font>，它们处于同一广播域。而在同一广播域中有这么多节点是不可能的，网络会因为广播通信而饱和，结果造成16777214个地址大部分没有分配出去。可以把基于每类的IP网络进一步分成更小的网络，每个子网由路由器界定并分配一个新的子网网络地址,子网地址是借用基于每类的网络地址的主机部分创建的。划分子网后，通过使用掩码，把子网隐藏起来，使得从外部看网络没有变化，这就是子网掩码。

  

## 5.网络地址计算

①将IP地址和子网掩码换算为二进制，子网掩码连续全1的是网络地址，后面的是主机地址

②将子网掩码和IP地址按位进行逻辑“与”运算，得到IP地址的网络地址，剩下的部分就是主机地址，从而区分出任意IP地址中的网络地址和主机地址。

③将运算结果中的网络地址不变，主机地址变为1，结果就是广播地址

注：<font color="#ff0000">网络地址+1即为第一个主机地址</font>，<font color="#ff0000">广播地址-1即为最后一个主机地址</font>，

由此可以看出地址范围是： <font color="#ff0000">网络地址+1 至 广播地址-1</font>

  

示例

一个主机的IP地址是202.112.14.137，掩码是255.255.255.224，要求计算这个主机所在网络的网络地址和广播地址

子网掩码255.255.255.224 转二进制：11111111.11111111.11111111.11100000

其中网络位部分是27位，主机位部分是5位

<font color="#ff0000">网络地址就是：把 IP 地址转成二进制和子网掩码进行 与运算</font>

IP地址202.112.14.137转二进制：11001010 01110000 00001110 10001001

IP 地址&子网掩码（与运算）

  

11001010 01110000 00001110 10001001

  

11111111 11111111 11111111 11100000

  

11001010 01110000 00001110 10000000

<font color="#ff0000">注：与位运算：0与任何数运算为0,1与1运算为1</font>（只有两位同时为"1"，才为“1”）

转化成十进制——结果为：202.112.14.128

  

## 6.广播地址计算

网络地址的主机位全部变成1 ，10011111 即159 即：202.112.14.159

  

## 7.网络数计算

网络数=2的X次方（X是子网掩码中，借的1的个数）如：202.106.1.0/25 是一个C类地址借了一位。因为C类默认是/24嘛。所以X=1。网络数=2的1次方=2个。

  

## 8.主机数计算

主机数=2的Y次方-2（Y是子网掩码中0的个数）-2是掐头去尾，头是网络号，尾是广播地址。/25意味着子网掩码中有25个1，剩下32-25个0，也就是7个。所以主机数=2的7次方-2=126，也就是每个子网可以产生126个可以分配给主机使用的IP地址。

  

## 9.块大小计算

块大小=256-子网掩码：如：202.106.1.0/25 子网掩码=255.255.255.128 所以块大小=256-128=128。块大小知道了，网道络号就知了。因为，202.106.1.0/25 第一个网络号一定是202.106.1.0 第二个网络号就=202.106.1.0 + 128 =202.106.1.128。

  

于是得出：202.106.1.0/25 这个子网的网络号就是1.0第一个IP就是1.1，最后一个IP=下一个网络号-2=128-2=202.106.1.126。而202.106.1.127是第一网段的广播地址。

  

202.106.1.128/25 这个子网的网络号就是1.128 第一个IP就是1.129.最后一个IP就是1.254，而1.255是这个网段的广播地址。

  

ip段/数字-如192.168.0.1/24是什么意思?

后面数字24是告诉我们有多少网络位，也就是子网掩码中前有多少位1。即：子网掩码为11111111.11111111.11111111.00000000———255.255.255.0

  

示例：IP地址为202.106.1.0/26 求子网数（网络数）？主机数？网络地址？广播地址？

数字26告诉我们，IP地址的子网掩码为：11111111.11111111.11111111.11000000

这是一个C类地址，默认子网掩码为255.255.255.0。题目IP地址为：255.255.255.192，而网络位借用了主机位两个位置为1

所以：子网数（网络数）=2的X次方（X是子网掩码中，借的1的个数）=4

主机数=2的Y次方-2（Y是子网掩码中0的个数）=62

IP地址转换二进制：11001010.1101010.00000001.00000000

网络地址（网络号）：202.106.1.0、202.106.64、202.106.1.128、202.106.1.192

广播地址：202.106.1.63、202.106.1.127、202.106.1.191、202.106.1.255

  

上述示例为划分子网的IP地址规划。随着技术革新，现在IP地址的划分都是使用CIDR（无分类编址）进行IP地址的划分

![](https://pic1.zhimg.com/80/v2-ee5f3936b09a108b046778faed039040_720w.webp)

IPv4地址编址的三个历史阶段

是采用CIDR后，网络前缀+主机地址——回归二级编址

CIDR消除传统A类、B类、C类地址，以及子网划分的概念

CIDR可更加有效的分配IPv4有限的地址空间，为IPv6的到来拖延时间

CIDR规范下，采用“斜线记法”，在IPv4地址后跟斜线“/”，之后标注网络前缀的比特长度这样所有IPv4可用地址范围都可按需划分为适当大小的网段进行分配，不在需要受ABC类地址的限制

那么，在CIDR的规划下该如何划分地址呢？

假设申请到的地址资源块是218.205.201.0/24，需求是从中划分出5个网段

（1个 /27段 ， 3个/28段， 1个 /30段）

![](https://pic3.zhimg.com/80/v2-284a1a784cdfa2f38e32784d96996e52_720w.webp)

![](https://pic4.zhimg.com/80/v2-32a3bd8b14eae3be8b0950687775929f_720w.webp)

分配原则：每个子网段起点位置不能随意，只能选取块大小整数倍的地址作为起点。

优先分大块，后分小块；划分地址段时，一个地址段的起始地址一定是该地址块大小的整数倍。如果不是，则向后推起始地址，中间跳过的地址保留下次使用。

# 计算机网络——主机 IP 地址、子网掩码、广播地址、网络数、主机数计算方法
## 一、概念
### 1 .1 主机 IP 地址
主机 IP 地址（Internet Protocol Address）：是主机的唯一标识，保证主机间正常通信。IP 地址由网络地址+主机地址构成，网络号相当于电话区号，主机号相当于电话号码。Ipv 4 分为 A、B、C、D、E 五类地址，任何一个 Ipv 4 的 IP 地址由共由 32 位二进制数构成，每段 8 位，共 4 段，点分十进制的表示为a.b.c.d 格式。

A 类地址范围：1.0.0.0 到 127.255.255.254
B 类地址范围：128.0.0.0 到 191.255.255.255
C 类地址范围：192.0.0.0 到 223.255.255.255
D 类地址范围：224.0.0.0 到 239.255.255.255
E 类地址范围：240.0.0.0 到 247.255.255.255
特殊的 IP 地址：

0.0.0.0  代表任意网络地址。已经不是真正意义上的 ip 地址，它表示的是所有不清楚主机和目的网络，这里的不清楚指的是在本机路由表里没有特定条目指明如何到达。
127.X.X.X  本地回环地址, 用于测试 TCP/IP 协议。凡是 127 开头的 IP 地址都是回环地址，可以理解为虚拟网卡，主要用于本机中各应用之间的网络交互，外部设备是无法通过回环地址访问本机的。
169.254.X.X  DHCP 服务保留。
255.255.255.255  本地广播地址。
![[Pasted image 20230424224238.png]]
### 1 .2 子网掩码
子网掩码：又叫网络掩码，是一个 32 位的 2 进制数。子网掩码不能单独存在，它必须结合 IP 地址一起使用。子网掩码只有一个作用，就是将某个 IP 地址划分成网络地址和主机地址两部分。

①通过子网掩码，就可以判断两个 IP 在不在一个局域网内部。

②子网掩码可以看出有多少位是网络号，有多少位是主机号。

③其对应的 IP 地址中网络地址的所有位置都为 1，对应于主机地址的所有位置都为0。

A 类网络的默认子网掩码是 255.0.0.0，二进制 11111111 00000000 00000000 00000000
B 类网络的默认子网掩码是 255.255.0.0，二进制 11111111 11111111 00000000 00000000
C 类网络的默认子网掩码是 255.255.255.0，二进制 11111111 11111111 11111111 00000000
![[Pasted image 20230424224248.png]]
### 1 .3 广播地址
广播地址（Broadcast Address）：是专门用于同时向网络中所有工作站进行发送的一个地址。
![[Pasted image 20230424224257.png]]
### 1 .4 子网划分
子网划分：是通过借用 IP 地址的若干位主机位来充当子网地址从而将原网络划分为若干子网而实现的。
![[Pasted image 20230424224303.png]]
## 二、计算
### 2 .1 已知 IP 地址和子网掩码，计算网络地址和主机地址：
将子网掩码和 IP 地址按位进行逻辑“与”运算，得到 IP 地址的网络地址，剩下的部分就是主机地址。
![[Pasted image 20230424224317.png]]
### 2 .2 已知 IP 地址和子网掩码，计算广播地址：
将子网掩码和 IP 地址按位进行逻辑“与”运算，得到的结果，网络地址不变，主机地址全变为 1，结果就是广播地址。
![[Pasted image 20230424224323.png]]
### 2 .3 已知子网掩码，计算主机数：
Y=子网掩码中，0 的个数。

主机数=2 的 y 次方-2。

第一个主机地址：网络地址+1

最后一个主机地址：广播地址-1

主机 IP 地址范围是： 网络地址+1 到广播地址-1（记忆口诀：“掐头去尾”）。

主机号各位全部为“0”的 IP 地址：该地址用于标识网络，不能分配给主机，因此不能作为数据的源地址和目的地址。

主机号各位全部为“1”的 IP 地址：TCP/IP 规定，主机号各位全部为“1”的 IP 地址用于广播，叫作广播地址。
![[Pasted image 20230424224331.png]]
### 2 .4 已知子网掩码，计算会产生多少个子网：
X=子网掩码中，网络位借用主机的位数，即 2 进制为 1 的部分。

子网个数=2 的 x 次方-2。
![[Pasted image 20230424224336.png]]
### 2 .5 已知子网掩码，计算块大小：
块大小=256-子网掩码。

假如子网掩码为 255.255.255.192，则块大小为 256-192=64，即块大小为 64。从 0 开始以 64 为基数不断递增，直到达到子网掩码值，中间的结果即为子网，本例中子网即 0、64、128、192。
![[Pasted image 20230424224343.png]]
————————————————
版权声明：本文为 CSDN 博主「也许明天_Martina」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接： https://blog.csdn.net/fortune_cookie/article/details/130325317