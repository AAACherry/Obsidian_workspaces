

## P 74 显示器简介

![[../../annex/LCD-液晶显示_image_1.png]]

![[../../annex/LCD-液晶显示_image_2.png]]

显示器简介
显示器属于计算机的I/O设备，即输入输出设备。它是一种将特定电子信息输出到屏幕上再反射到人眼的显示工具。常见的有CRT显示器、液晶显示器、LED点阵显示器及OLED显示器。

液晶显示器
液晶显示器，简称 LCD (Liquid Crystal Display)，相对于上一代 CRT 显示器 (阴极射线管显示器)，LCD 显示器具有功耗低、体积小、承载的信息量大及不伤眼的优点，因而它成为了现在的主流电子显示设备，其中包括电视、电脑显示器、手机屏幕及各种嵌入式设备的显示器。

###### 液晶显示器
液晶是一种介于固体和液体之间的特殊物质，它是一种有机化合物，常态下呈液态，但是它的分子排列却和固体晶体一样非常规则，因此取名液晶。如果给液晶施加电场，会改变它的分子排列，从而改变光线的传播方向，配合偏振光片，它就具有控制光线透过率的作用，再配合彩色滤光片，改变加给液晶电压大小，就能改变某一颜色透光量的多少。

利用液晶控制的原理，做出可控红、绿、蓝光输出强度的显示结构，把三种显示结构组成一个显示单位，通过控制红绿蓝的强度，可以使该单位混合输出不同的色彩，这样的一个显示单位被称为像素。

注意液晶本身是不发光的，所以需要有一个背光灯提供光源，光线经过一系列处理过程才到输出，所以输出的光线强度是要比光源的强度低很多的，比较浪费能源 (当然，比 CRT 显示器还是节能多了)。而且这些处理过程会导致显示方向比较窄，也就是它的视角较小，从侧面看屏幕会看不清它的显示内容。另外，输出的色彩变换时，液晶分子转动也需要消耗一定的时间，导致屏幕的响应速度低。
![[../../annex/LCD-液晶显示_image_3.png]]


###### LED 显示器
LED 点阵彩色显示器的单个像素点内包含红绿蓝三色 LED 灯，显示原理类似实验板上的 LED 彩灯，通过控制红绿蓝颜色的强度进行混色，实现全彩颜色输出，多个像素点构成一个屏幕。由于每个像素点都是 LED 灯自发光的，所以在户外白天也显示得非常清晰，但由于 LED 灯体积较大，导致屏幕的像素密度低，所以它一般只适合用于广场上的巨型显示器。相对来说，单色的 LED 点阵显示器应用得更广泛，如公交车上的信息展示牌、店招等。
![[../../annex/LCD-液晶显示_image_4.png]]

###### OLED 显示器
新一代的 OLED 显示器与 LED 点阵彩色显示器的原理类似，但由于它采用的像素单元是“有机发光二极管”(Organic Light Emitting Diode)，所以像素密度比普通 LED 点阵显示器高得多

![[../../annex/LCD-液晶显示_image_5.png]]

OLED显示器不需要背光源、对比度高、轻薄、视角广及响应速度快等优点。待到生产工艺更加成熟时，必将取代现在液晶显示器的地位。
对于不同种类的显示器，其控制程序原理是类似的，都是以操作像素点为基础。
![[../../annex/LCD-液晶显示_image_6.png]]


###### 显示器的基本参数
不管是哪一种显示器，都有一定的参数用于描述它们的特性，各个参数介绍如下：

1、像素
像素是组成图像的最基本单元要素，显示器的像素指它成像最小的点，即前面讲解液晶原理中提到的一个显示单元。

2、分辨率
一些嵌入式设备的显示器常常以“行像素值 x 列像素值”表示屏幕的分辨率。如分辨率 800 x 480 表示该显示器的每一行有 800 个像素点，每一列有 480 个像素点，也可理解为有 800 列，480行。

3、色彩深度
色彩深度指显示器的每个像素点能表示多少种颜色，一般用“位”(bit)来表示。如单色屏的每个像素点能表示亮或灭两种状态 (即实际上能显示 2 种颜色)，用 1 个数据位就可以表示像素点的所有状态，所以它的色彩深度为 1 bit，其它常见的显示屏色深为 16 bit（RGB 565，16 个数据位，能够表达 2^16 种颜色）、24 bit（RGB 888，24 个数据位，能够表达 2^24 种颜色）。
RGB 888 -- 红绿蓝分量用 8 个数据位来表示 组成的格式

4、显示器尺寸 
显示器的大小一般以英寸表示，如 5 英寸、21 英寸、24 英寸等，这个长度是指屏幕对角线的长度，通过显示器的对角线长度及长宽比可确定显示器的实际长宽尺寸。

5、点距
点距指两个相邻像素点之间的距离，它会影响画质的细腻度及观看距离，相同尺寸的屏幕，若分辨率越高，则点距越小，画质越细腻。如现在有些手机的屏幕分辨率比电脑显示器的还大，这是手机屏幕点距小的原因；LED 点阵显示屏的点距一般都比较大，所以适合远距离观看。

###### 液晶控制原理
![[../../annex/LCD-液晶显示_image_7.png]]
完整的显示屏由液晶显示面板、电容触摸面板以及 PCB 底板构成。

图中的触摸面板带有触摸控制芯片，该芯片处理触摸信号并通过引出的信号线与外部器件通讯面板中间是透明的，它贴在液晶面板上面，一起构成屏幕的主体，触摸面板与液晶面板引出的排线连接到PCB底板上。
根据实际需要，PCB底板上可能会带有“液晶控制器芯片”。因为控制液晶面板需要比较多的资源，所以大部分低级微控制器都不能直接控制液晶面板，需要额外配套一个专用液晶控制器来处理显示过程，外部微控制器只要把它希望显示的数据直接交给液晶控制器即可。而不带液晶控制器的PCB底板 ，只有小部分的电源管理电路，液晶面板的信号线与外部微控制器相连，直接控制。STM32F429系列的芯片不需要额外的液晶控制器，也就是说它把专用液晶控制器的功能集成到STM32F429芯片内部了，节约了额外的控制器成本。STM32F1系列的芯片控制液晶时，液晶屏需带有液晶控制器。

###### 液晶面板的控制信号
1、液晶面板的控制信号线 (不带液晶控制器)：
![[../../annex/LCD-液晶显示_image_8.png]]

2、RGB 信号线
RGB 信号线各有 8 根，分别用于表示液晶屏一个像素点的红、绿、蓝颜色分量。使用红绿蓝颜色分量来表示颜色是一种通用的做法，打开 Windows 系统自带的画板调色工具，可看到颜色的红绿蓝分量值，常见的颜色表示会在“RGB”后面附带各个颜色分量值的数据位数，如 RGB 565 表示红绿蓝的数据线数分别为 5、6、5 根，一共为 16 个数据位，可表示 216 种颜色；而这个液晶屏的种颜色分量的数据线都有 8 根，所以它支持 RGB 888 格式，一共 24 位数据线，可表示的颜色为224种。
![[../../annex/LCD-液晶显示_image_9.png]]

3、同步时钟信号 CLK
液晶屏与外部使用同步通讯方式，以 CLK 信号作为同步时钟，在同步时钟的驱动下，每个时钟传输一个像素点数据。

4、水平同步信号 HSYNC
水平同步信号 HSYNC (Horizontal Sync)用于表示液晶屏一行像素数据的传输结束，每传输完成液晶屏的一行像素数据时，HSYNC 会发生电平跳变，如分辨率为 800 x 480 的显示屏 (800 列，480 行)，传输一帧的图像 HSYNC 的电平会跳变 480次。

5、垂直同步信号 VSYNC
垂直同步信号 VSYNC (Vertical Sync)用于表示液晶屏一帧像素数据的传输结束，每传输完成一帧像素数据时，VSYNC 会发生电平跳变。其中“帧”是图像的单位，一幅图像称为一帧，在液晶屏中，一帧指一个完整屏液晶像素点。人们常常用“帧/秒”来表示液晶屏的刷新特性，即液晶屏每秒可以显示多少帧图像，如液晶屏以 60 帧/秒的速率运行时，VSYNC 每秒钟电平会跳变 60次。

6、数据使能信号 DE
数据使能信号 DE (Data Enable)用于表示数据的有效性，当 DE 信号线为高电平时，RGB 信号线表示的数据有效。

###### 液晶数据传输时序
向液晶屏传输一帧图像数据的时序：
![[../../annex/LCD-液晶显示_image_10.png]]

液晶屏显示的图像可看作一个矩形，液晶屏有一个显示指针，它指向将要显示的像素。显示指针的扫描方向方向从左到右、从上到下，一个像素点一个像素点地描绘图形。这些像素点的数据通过RGB数据线传输至液晶屏，它们在同步时钟CLK的驱动下一个一个地传输到液晶屏中，交给显示指针，传输完成一行时，水平同步信号HSYNC电平跳变一次，而传输完一帧时VSYNC电平跳变一次。
![[../../annex/LCD-液晶显示_image_11.png]]

液晶显示指针在行与行之间，帧与帧之间切换时需要延时，而且HSYNC及VSYNC信号本身也有宽度，这些时间参数说明见下表：
![[../../annex/LCD-液晶显示_image_12.png]]
在这些时间参数控制的区域，数据使能信号线“DE”都为低电平，RGB数据线的信号无效，当“DE”为高电平时，表示的数据有效，传输的数据会直接影响液晶屏的显示区域。

###### 显存
液晶屏中的每个像素点都是数据，在实际应用中需要把每个像素点的数据缓存起来，再传输给液晶屏，这种存储显示数据的存储器被称为显存。显存一般至少要能存储液晶屏的一帧显示数据，如分辨率为800x480的液晶屏，使用RGB888格式显示，它的一帧显示数据大小为：3x800x480=1152000字节；若使用RGB565格式显示，一帧显示数据大小为：2x800x480=768000字节。




































































































































