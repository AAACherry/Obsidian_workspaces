


## P 32 通信的基本概念
通信的基本概念（并行串行+同步异步+全双工半双工单攻+比特率+波特率）

![[../../annex/通信的基本概念_image_1.png]]


### 01 串行和并行通信
通过数据传送的方式来讲
![[../../annex/通信的基本概念_image_2.png]]
并行通讯：并列的传输，8 行就需要八根数据线
LSB：最低位，MSB：最高位。
串行通讯：一位一位的传输，在硬件上就只需要一根数据线

并行：SDIO（4 位、SD 卡的）/ FMSC（16 位的, 并行控制线，控制液晶/显存）
串行协议有：USART、I²C、SPI 等--这些都是只有一根或两跟数据线（一根收，一根发。但是发送的时候都是一位一位的发送出去）

![[../../annex/通信的基本概念_image_3.png]]
并行的成本比串行的高，不止体现在硬件所需的数据线根数上，同时还要考虑 PCB 走线（需要抗干扰），实现等长、差分、交叉...... 走线

### 02 全双工、半双工、单攻
从数据通信的方向来讲
![[../../annex/通信的基本概念_image_4.png]]
全双工就是有两根数据线（收发），并且收发数据线可以同时进行工作（USART、SPI）
--电话
![[../../annex/通信的基本概念_image_5.png]]
![[../../annex/通信的基本概念_image_6.png]]

半双工：同样有两根数据线，但是不可同时收发数据，可分时收发数据（USART、SPI 都可以工作在半双工或者全双工）
--对讲机

单工：只有一根数据线，可以用来发，也可以用来收。任何时刻都只能往某一个固定方向传输数据。
--收音机

### 03 同步与异步
通过数据同步方式来讲
![[../../annex/通信的基本概念_image_7.png]]
同步和异步确保了传输的时候的准确性

只要有时钟信号的都是同步，没有时钟信号就叫异步。

时钟怎么同步？怎么来确保数据在传输的时候来确保准确性呢？
时钟得方波。
比如在一个时钟脉冲的时候，数据才是有效的。（在时钟低电平的时候，这些数据是无效的，或者叫可以变化的；高电平的时候是有效的）
同步对时钟的要求比较高，如果有尖波、杂波，那么数据传输就不准确了，因为本身的时钟都是不准确的。
![[../../annex/通信的基本概念_image_8.png]]


异步就是没有时钟信号，但是为了保证数据传输的准确性，在数据传输的一个帧里面的一段数据上面加上一些辅助的标志符。
![[../../annex/通信的基本概念_image_9.png]]
比如说一开始有通讯的起始位，然后再传数据主体，传完之后还有一个位来校验数据：数据校验位（有奇校验、偶校验、一校验、零校验）。最后还有一个通讯的停止位（往往串口会有一个高电平）。

同步和异步的区别
![[../../annex/通信的基本概念_image_10.png]]
同步通讯的效率更高，但是同步通讯双方的时钟允许误差较小。
而异步通讯双方不需要时钟，通过传输的数据中添加各种标志符来确保数据的传输准确性。

### 04 通信的速率
波特率、比特率
![[../../annex/通信的基本概念_image_11.png]]
数据传输都会有一种标准来衡量数据的传输速率。
在串口等叫波特率，在 I²C、SPI 等叫比特率
往往  I²C、SPI 也不叫比特率，它通过时钟来控制， I²C、SPI 往往是同步通信，同步通信就会有时钟。在一个时钟脉冲下就传输一个数据，跟比特率的概念是一样的。

比特率和波特率区别就在二进制位数、码元上
![[../../annex/通信的基本概念_image_12.png]]
我们传输的信息就是码元。有时候的 0 V（用 0 来表示），有时候是 3.3 V（用 1 来表示）
那么这个时候用一个码元就只有一个二进制来表示。那么说每秒钟传输的码元个数跟每秒钟传输的二进制的位数是一样的。这时比特率和波特率就相等。



![[../../annex/通信的基本概念_image_13.png]]
什么时候比特率和波特率不相等呢 ？
需要用两位二进制位来表示码元的时候。此时每秒钟传输的码元个数跟每秒钟传输的二进制的位数不一样

```
码元是二进制时，波特率和比特率一致，M 进制时  Rb=RB*〖log〗_2 M
```



























